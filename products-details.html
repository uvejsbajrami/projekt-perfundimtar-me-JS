<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Details | E-Commerce</title>
    <link rel="stylesheet" href="./assets/css/produtcs-ecommerce.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="./assets/css/details.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <header></header>
    <section
      class="Details-section"
      style="height: 77.5vh; background-color: rgb(206, 224, 239)"
    >
      <div
        class="container row d-flex justify-content-center align-items-center"
        style="width: 100%"
      >
        <div
          id="image-div"
          class="image-div col-lg-4 offset-lg-2 my-lg-5 col-md-4 offset-md-0 my-md-6"
          style="background-color: #212529; height: 490px"
        ></div>
        <div
          id="product-details"
          class="product-details col-5"
          style="background-color: #202933; height: 490px"
        >
          <ul class="list-group list-group-flush lista1">
            <li class="list-group-item item1">An item</li>
            <li class="list-group-item item2">A second item</li>
            <li class="list-group-item item3">A third item</li>
          </ul>
        </div>
      </div>
    </section>
    <footer></footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script type="module">
      import { initHeader } from "./modules/header.js";
      import { initFooter } from "./modules/footer.js";
      function DetailsFunction(imageDiv) {
        const storageDetails = JSON.parse(localStorage.getItem("DetailsCard"));

        if (storageDetails) {
          console.log(storageDetails);
          imageDiv.innerHTML += `
          <figure class="figure my-1 mx-5" >
              <img style="height:430px;  " src="${storageDetails.img}" class="figure-img img-fluid rounded" alt="${storageDetails.title}" >
              <figcaption class="figure-caption" style="color:white;">${storageDetails.title}</figcaption>
          </figure>        
        `;
        } else {
          console.log("No details found in localStorage.");
        }
      }

      try {
        DetailsFunction(document.querySelector("#image-div"));
      } catch (e) {
        console.log(e);
      }

      function DetailsFunction2() {
        const storageDetails = JSON.parse(localStorage.getItem("DetailsCard"));

        if (storageDetails) {
          console.log(storageDetails);
          let description = (document.querySelector(
            ".item1"
          ).innerHTML = `<strong>Description:</strong> ${storageDetails.description}`);
          let category = (document.querySelector(
            ".item2"
          ).innerHTML = `${storageDetails.category}`);
          let price = (document.querySelector(
            ".item3"
          ).innerHTML = `${storageDetails.price} <a href="buy-now-cart.html"><button class="btn btn btn-success mx-2">Buy Now</button></a>`);
        } else {
          console.log("No details found in localStorage.");
        }
      }

      try {
        DetailsFunction2();
      } catch (e) {
        console.log(e);
      }
      initHeader(document.querySelector("header"));
      initFooter(document.querySelector("footer"));
    </script>
  </body>
</html>
